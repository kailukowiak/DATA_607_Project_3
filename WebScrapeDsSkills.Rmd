---
title: "Webscraping to Find Key DS Skills"
author: "Kai Lukowiak"
date: '2017-10-12'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Project 3

The goal of project 3 is to find key skills for data scientists and put these into a relational database as well as perform some baisic data analysis.

### Loading Libraries.

```{r}
library(RCurl)
library(XML)
library(rvest)
library(knitr)
```

Proof of Concept:
```{r}
url <- "https://www.indeed.com/jobs?q=data+science&l=New+York" #Test URL
ineeedPage <- read_html(url) # reading to make a list.

#Creating columns of the dataframe:

ExperienceList <- ineeedPage %>%
  html_nodes(".experienceList") %>%
  html_text()


TitleName <- ineeedPage %>%
  html_nodes(".jobtitle") %>%
  html_text()


CompanyName <- ineeedPage %>%
  html_nodes(".company") %>%
  html_text()

City <- ineeedPage %>%
  html_nodes(".location") %>%
  html_text()


#creating DataFrame
df <- data.frame(CompanyName,TitleName, City, ExperienceList)
kable(df)
```


Function to itterate over cities.

```{r}
# Functions

indeedSkills <- function(jobTitle, city, state){
  url <- paste0("https://www.indeed.com/jobs?q=",
                gsub(" ", replacement = "+", jobTitle),
                "&l=",
                gsub(" ", replacement = "+", city),
                "%2C+", 
                state, 
                sep = "")
  
  print(url)
}
```

